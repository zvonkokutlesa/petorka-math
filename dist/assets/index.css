:root{--controls-h: 200px;--bg: #0f1222;--panel: rgba(255,255,255,.08);--panel2: rgba(255,255,255,.12);--text: #e9ecff;--muted: rgba(233,236,255,.7);--shadow: rgba(0,0,0,.35);--tile: 40px}*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:radial-gradient(1200px 800px at 30% 20%,rgba(120,80,255,.18),transparent 60%),radial-gradient(900px 700px at 80% 70%,rgba(0,220,255,.12),transparent 55%),var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none;touch-action:none}#root,.app{height:100%}.hud{height:54px;position:fixed;top:0;left:0;right:0;z-index:40;display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:linear-gradient(to bottom,#0f122280,#0f122240);border-bottom:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.title{font-weight:800;letter-spacing:.3px}.hudRight{display:flex;align-items:center;gap:10px}.score{font-weight:600}.score b{font-size:18px}.musicToggle{border:1px solid rgba(255,255,255,.2);background:#ffffff1a;color:#fffffff2;border-radius:10px;padding:6px 10px;font-size:12px;font-weight:700}.musicToggle:active{transform:translateY(1px)}.game{position:fixed;top:0;right:0;bottom:0;left:0;padding:0;overflow:hidden}.boardWrap{position:absolute;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;width:100dvw;height:100dvh;display:flex;align-items:center;justify-content:center;background:none;border:none;border-radius:0;box-shadow:none;overflow:hidden}.board{position:relative;background:#204a2a;image-rendering:pixelated}.grass{position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(90deg,rgba(255,255,255,.06) 1px,transparent 1px) 0 0 / var(--tile) var(--tile),linear-gradient(rgba(255,255,255,.06) 1px,transparent 1px) 0 0 / var(--tile) var(--tile),radial-gradient(circle at 20% 30%,rgba(255,255,255,.08),transparent 45%),radial-gradient(circle at 70% 60%,rgba(0,0,0,.1),transparent 55%);filter:saturate(1.15)}.path{position:absolute;background:linear-gradient(90deg,#c7a971f2,#ad8c52f2);border-top:1px solid rgba(0,0,0,.25);border-bottom:1px solid rgba(255,255,255,.18);opacity:.95}.lake{position:absolute;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.35),transparent 35%),radial-gradient(circle at 70% 70%,rgba(0,0,0,.2),transparent 45%),linear-gradient(180deg,#1aa6ff,#0a4ea5);border:2px solid rgba(255,255,255,.18);border-radius:14px;box-shadow:inset 0 0 0 2px #0000001f}.tree{position:absolute;width:var(--tile);height:var(--tile);transform:translate(0)}.tree:before{content:"";position:absolute;left:14px;top:20px;width:12px;height:18px;background:#6b3d1a;border-radius:3px;box-shadow:inset 0 -2px #0003}.tree:after{content:"";position:absolute;left:4px;top:2px;width:32px;height:26px;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.25),transparent 45%),linear-gradient(180deg,#2fd16a,#167a35);border-radius:10px;box-shadow:0 4px #00000026}.door{position:absolute;width:var(--tile);height:var(--tile);border-radius:10px;display:grid;place-items:center;box-shadow:0 8px 18px #00000038;border:1px solid rgba(255,255,255,.12);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.door.closed{opacity:1}.door.open{opacity:.45;filter:saturate(.9)}.door.math{background:linear-gradient(180deg,#ffcd0059,#ff7d0040)}.door.lang{background:linear-gradient(180deg,#64dcff40,#7878ff33)}.door-label{font-weight:900;font-size:18px;color:#ffffffeb;text-shadow:0 2px 10px rgba(0,0,0,.3)}.entity{position:absolute;transform:translate(-50%,-55%)}.steve{width:28px;height:38px;position:relative;filter:drop-shadow(0 6px 10px rgba(0,0,0,.25))}.steve .head{position:absolute;left:6px;top:0;width:16px;height:16px;border-radius:4px;overflow:hidden;background:#d8a674;box-shadow:inset 0 -2px #00000026}.steve .hair{position:absolute;inset:0 0 auto 0;height:6px;background:linear-gradient(180deg,#3a2a20,#2b1f18)}.steve .face{position:absolute;top:6px;right:0;bottom:0;left:0}.steve .eye{position:absolute;top:3px;width:3px;height:3px;background:#1a1c2a;border-radius:1px}.steve .eye.left{left:3px}.steve .eye.right{right:3px}.steve .mouth{position:absolute;left:6px;top:8px;width:4px;height:2px;background:#00000059;border-radius:2px}.steve .body{position:absolute;left:3px;top:15px;width:22px;height:14px;display:flex;gap:2px}.steve .arm{width:6px;height:14px;background:#3fb8ff;border-radius:3px;box-shadow:inset 0 -2px #00000026}.steve .torso{flex:1;background:linear-gradient(180deg,#22a7ff,#157bd3);border-radius:4px;box-shadow:inset 0 -2px #0000002e}.steve .legs{position:absolute;left:7px;top:29px;width:14px;height:9px;display:flex;gap:2px}.steve .leg{flex:1;background:linear-gradient(180deg,#2d4ac9,#1c2f88);border-radius:3px}.wolf{width:34px;height:22px;position:relative;filter:drop-shadow(0 6px 10px rgba(0,0,0,.25))}.wolf .wolf-head{position:absolute;left:0;top:4px;width:14px;height:14px;background:linear-gradient(180deg,#b9c2cc,#8793a0);border-radius:5px}.wolf .wolf-ear{position:absolute;top:-4px;width:6px;height:6px;background:linear-gradient(180deg,#cdd6df,#8793a0);border-radius:2px}.wolf .wolf-ear.left{left:1px;transform:rotate(-10deg)}.wolf .wolf-ear.right{right:1px;transform:rotate(10deg)}.wolf .wolf-eye{position:absolute;top:6px;width:2px;height:2px;background:#111524;border-radius:1px}.wolf .wolf-eye.left{left:3px}.wolf .wolf-eye.right{right:3px}.wolf .wolf-snout{position:absolute;left:11px;top:6px;width:6px;height:6px;background:linear-gradient(180deg,#a7b1bc,#7d8896);border-radius:3px}.wolf .wolf-body{position:absolute;left:12px;top:7px;width:18px;height:11px;background:linear-gradient(180deg,#aeb8c3,#7d8896);border-radius:7px}.wolf .wolf-tail{position:absolute;right:0;top:9px;width:8px;height:6px;background:linear-gradient(180deg,#c1cad4,#8793a0);border-radius:3px;transform:rotate(20deg)}.wolfEntity.chase .wolf{animation:shake .25s infinite linear}@keyframes shake{0%{transform:translate(0)}50%{transform:translate(1px)}to{transform:translate(0)}}.dpad{position:fixed;left:50%;bottom:calc(12px + env(safe-area-inset-bottom));transform:translate(-50%);z-index:50;padding:10px;display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr;gap:10px;align-items:center;justify-items:center;background:transparent;border:none}.dpad-btn{width:min(22vw,74px);height:min(22vw,74px);border-radius:18px;border:1px solid rgba(255,255,255,.16);background:#ffffff1f;color:#ffffffeb;font-size:22px;font-weight:900;box-shadow:0 10px 26px #00000040;touch-action:none;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.dpad-btn:active{transform:translateY(1px) scale(.99);background:#ffffff24}.dpad-btn.up{grid-column:2;grid-row:1}.dpad-btn.left{grid-column:1;grid-row:2}.dpad-btn.down{grid-column:2;grid-row:3}.dpad-btn.right{grid-column:3;grid-row:2}.modal-backdrop{z-index:80;position:fixed;top:0;right:0;bottom:0;left:0;display:grid;place-items:center;background:#0000008c;padding:16px}.modal{width:min(520px,92vw);background:#14182cf0;border:1px solid rgba(255,255,255,.14);border-radius:20px;box-shadow:0 18px 60px #00000073;overflow:hidden}.modal-title{padding:14px 16px;font-weight:900;letter-spacing:.3px;background:#ffffff0f;border-bottom:1px solid rgba(255,255,255,.12)}.modal-body{padding:14px 16px 8px}.modal-actions{padding:12px 16px 16px;display:flex;gap:10px;justify-content:flex-end}.task-q{font-size:16px;line-height:1.35;margin-bottom:10px}.task-hint{font-size:12px;color:var(--muted);line-height:1.35;margin-top:10px}.task-input{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:#ffffff0f;color:var(--text);font-size:16px;outline:none}.task-input:focus{border-color:#64dcff59;box-shadow:0 0 0 3px #64dcff1a}.task-choices{display:grid;grid-template-columns:1fr 1fr;gap:10px}.choice{padding:14px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:#ffffff0f;color:#ffffffeb;font-size:16px;font-weight:800}.choice:active{transform:translateY(1px);background:#ffffff14}.btn{padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.18);background:#ffffff1f;color:#ffffffeb;font-weight:900}.btn.secondary{background:#ffffff0f}.btn:active{transform:translateY(1px)}@media (max-width: 420px){.hud{height:50px}.boardWrap{position:absolute;top:0;right:0;bottom:0;left:0;background:none;border:none;border-radius:0;box-shadow:none;overflow:hidden}.title{font-size:14px}.musicToggle{padding:5px 8px;font-size:11px}.score{font-size:13px}}.controlsOverlay{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.controlsOverlay .dpad{position:absolute;bottom:env(safe-area-inset-bottom,12px);left:50%;transform:translate(-50%);pointer-events:auto;background:none;border:none}.dpad-btn{background:#ffffff2e;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}
